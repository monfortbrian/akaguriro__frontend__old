{"ast":null,"code":"import _slicedToArray from\"/Users/brian/Downloads/AKAGURIRO__revamp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{login}from\"../redux/actions/userActions.js\";import{Button}from'@material-ui/core';import CircularProgress from'@material-ui/core/CircularProgress';import VisibilityIcon from'@material-ui/icons/Visibility';import VisibilityOffIcon from'@material-ui/icons/VisibilityOff';import'../styles/Login.scss';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showMdp=_useState6[0],setShowMdp=_useState6[1];var dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var loading=userLogin.loading,error=userLogin.error,userInfo=userLogin.userInfo;var redirect=location.search?location.search.split(\"=\")[1]:\"/\";useEffect(function(){if(userInfo&&(userInfo===null||userInfo===void 0?void 0:userInfo.success)!==false){history.push(redirect);}},[history,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),loading&&/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login__form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email adress\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter your email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mdpInput\",children:[/*#__PURE__*/_jsx(\"input\",{type:showMdp?\"text\":\"password\",placeholder:\"*********\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setShowMdp(!showMdp);},children:[showMdp?/*#__PURE__*/_jsx(VisibilityOffIcon,{}):/*#__PURE__*/_jsx(VisibilityIcon,{}),\" \"]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign In\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"New customer? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"register\"})]})]});}export default LoginPage;","map":{"version":3,"sources":["/Users/brian/Downloads/AKAGURIRO__revamp/frontend/src/pages/LoginPage.js"],"names":["React","useState","useEffect","useDispatch","useSelector","login","Button","CircularProgress","VisibilityIcon","VisibilityOffIcon","Link","LoginPage","location","history","email","setEmail","password","setPassword","showMdp","setShowMdp","dispatch","userLogin","state","loading","error","userInfo","redirect","search","split","success","push","submitHandler","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect }  from 'react'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../redux/actions/userActions.js\";\nimport { Button } from '@material-ui/core'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport '../styles/Login.scss'\nimport { Link } from 'react-router-dom'\n\nfunction LoginPage({ location, history }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [showMdp, setShowMdp] = useState(false);\n  \n    const dispatch = useDispatch();\n    const userLogin = useSelector((state) => state.userLogin);\n    const { loading, error, userInfo } = userLogin;\n  \n    const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n  \n    useEffect(() => {\n\n      if (userInfo && userInfo?.success !== false ) {\n        history.push(redirect);\n      }\n    }, [history, userInfo, redirect]);\n  \n    const submitHandler = (e) => {\n      e.preventDefault();\n      dispatch(login(email, password));\n\n    };\n    \n    return (\n        <div className=\"login\">\n            <h2>Sign In</h2>\n            {error && <p className=\"error\">{error}</p >}\n            {loading && <CircularProgress color=\"inherit\"/>}\n            <form className=\"login__form\" onSubmit={submitHandler}>\n                <label htmlFor='email'>Email adress</label>\n                <input type='email' placeholder=\"Enter your email\" value={email} onChange={(e)=>setEmail(e.target.value)}/>\n\n                <label htmlFor='password'>Password</label>\n                <div className=\"mdpInput\">\n                  <input type={showMdp ?\"text\" : \"password\" } placeholder=\"*********\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\n                  <div onClick={()=>setShowMdp(!showMdp)}>{showMdp ? <VisibilityOffIcon/>: <VisibilityIcon/> } </div>\n                </div>\n                \n\n                <Button type='submit'>Sign In</Button>\n            </form>\n            <p>New customer? <Link to=\"/register\">register</Link></p>\n        </div>\n    )\n}\n\nexport default LoginPage\n"]},"metadata":{},"sourceType":"module"}