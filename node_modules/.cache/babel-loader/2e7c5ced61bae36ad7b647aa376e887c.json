{"ast":null,"code":"import _slicedToArray from\"/Users/brian/Downloads/AKAGURIRO__revamp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{register}from\"../redux/actions/userActions.js\";import{Button}from'@material-ui/core';import CircularProgress from'@material-ui/core/CircularProgress';import VisibilityIcon from'@material-ui/icons/Visibility';import VisibilityOffIcon from'@material-ui/icons/VisibilityOff';import'../styles/Login.scss';import{Link}from'react-router-dom';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showConfirm=_useState10[0],setshowConfirm=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showConfirm2=_useState12[0],setshowConfirm2=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),message=_useState14[0],setMessage=_useState14[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var dispatch=useDispatch();var userRegister=useSelector(function(state){return state.userRegister;});var loading=userRegister.loading,error=userRegister.error,userInfo=userRegister.userInfo;var redirect=location.search?location.search.split(\"=\")[1]:\"/\";useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmPassword){setMessage(\"Password do not match\");}else{dispatch(register(name,email,password));}window.scroll({top:0,behavior:\"smooth\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t(\"Register\")}),message?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:message}):error?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}):'',loading&&/*#__PURE__*/_jsx(CircularProgress,{color:\"danger\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login__form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:t('Name')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Enter your name here\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:t('Email adress')}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Enter tour email here\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:t('Password')}),/*#__PURE__*/_jsxs(\"div\",{className:\"mdpInput\",children:[/*#__PURE__*/_jsx(\"input\",{type:showConfirm?\"text\":\"password\",placeholder:\"*********\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setshowConfirm(!showConfirm);},children:[showConfirm?/*#__PURE__*/_jsx(VisibilityOffIcon,{}):/*#__PURE__*/_jsx(VisibilityIcon,{}),\" \"]})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:t('Password')}),/*#__PURE__*/_jsxs(\"div\",{className:\"mdpInput\",children:[/*#__PURE__*/_jsx(\"input\",{type:showConfirm2?\"text\":\"password\",placeholder:\"*********\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setshowConfirm2(!showConfirm2);},children:[showConfirm2?/*#__PURE__*/_jsx(VisibilityOffIcon,{}):/*#__PURE__*/_jsx(VisibilityIcon,{}),\" \"]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:t('Register')})]}),/*#__PURE__*/_jsxs(\"p\",{children:[t('Already sign in'),\"? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:t('login here')})]})]});}export default RegisterPage;","map":{"version":3,"sources":["/Users/brian/Downloads/AKAGURIRO__revamp/frontend/src/pages/RegisterPage.js"],"names":["React","useState","useEffect","useDispatch","useSelector","register","Button","CircularProgress","VisibilityIcon","VisibilityOffIcon","Link","useTranslation","RegisterPage","location","history","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","showConfirm","setshowConfirm","showConfirm2","setshowConfirm2","message","setMessage","t","dispatch","userRegister","state","loading","error","userInfo","redirect","search","split","push","submitHandler","e","preventDefault","window","scroll","top","behavior","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { register } from \"../redux/actions/userActions.js\";\nimport { Button } from '@material-ui/core'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport '../styles/Login.scss'\nimport { Link } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next';\n\nfunction RegisterPage({ location, history }) {\n\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [showConfirm, setshowConfirm] = useState(false);\n    const [showConfirm2, setshowConfirm2] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const {t}=useTranslation()\n    const dispatch = useDispatch();\n    const userRegister = useSelector((state) => state.userRegister);\n    const { loading, error, userInfo } = userRegister;\n\n    const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n\n    useEffect(() => {\n        if (userInfo) {\n            history.push(redirect);\n        }\n    }, [history, userInfo, redirect]);\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        if (password !== confirmPassword) {\n            setMessage(\"Password do not match\");\n        } else {\n            dispatch(register(name, email, password));\n        }\n        window.scroll({\n            top:0,\n            behavior:\"smooth\"\n        })\n    };\n    \n    return (\n        <div className=\"login\">\n            <h2>{t(\"Register\")}</h2>\n            {message ? <p className=\"error\">{message}</p > :\n            error ? <p className=\"error\">{error}</p> : ''}\n            {loading && <CircularProgress color=\"danger\"/>}\n            <form className=\"login__form\" onSubmit={submitHandler}>\n                <label htmlFor='name'>{t('Name')}</label>\n                <input type='text' value={name} onChange={(e)=>setName(e.target.value)} placeholder=\"Enter your name here\"/>\n\n                <label htmlFor='email'>{t('Email adress')}</label>\n                <input type='email' value={email} onChange={(e)=>setEmail(e.target.value)} placeholder=\"Enter tour email here\"/>\n\n                <label htmlFor='password'>{t('Password')}</label>\n                <div className=\"mdpInput\">\n                  <input type={showConfirm ?\"text\" : \"password\" } placeholder=\"*********\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\n                  <div onClick={()=>setshowConfirm(!showConfirm)}>{showConfirm ? <VisibilityOffIcon/>: <VisibilityIcon/> } </div>\n                </div>\n\n                <label htmlFor='password'>{t('Password')}</label>\n                <div className=\"mdpInput\">\n                  <input type={showConfirm2 ?\"text\" : \"password\" } placeholder=\"*********\" value={confirmPassword} onChange={(e)=>setConfirmPassword(e.target.value)}/>\n                  <div onClick={()=>setshowConfirm2(!showConfirm2)}>{showConfirm2 ? <VisibilityOffIcon/>: <VisibilityIcon/> } </div>\n                </div>\n\n                <Button type='submit'>{t('Register')}</Button>\n            </form>\n            <p>{t('Already sign in')}? <Link to=\"/login\">{t('login here')}</Link></p>\n        </div>\n    )\n}\n\nexport default RegisterPage"]},"metadata":{},"sourceType":"module"}